import{S as d,a as f,b as u,d as m,c as x,u as i}from"./chunks/index.f14b2a18.js";import{M as h}from"./chunks/index.f70087cd.js";import{j as o}from"./chunks/jsx-runtime.bcbc4544.js";import{r as b}from"./chunks/index.af313609.js";import{p as c}from"./chunks/playgroundStore.cbc88a11.js";var y={colors:{surface1:"#011627",surface2:"#243b4c",surface3:"#112331",clickable:"#6988a1",base:"#808080",disabled:"#4D4D4D",hover:"#c5e4fd",accent:"#c5e4fd",error:"#ffcdca",errorSurface:"#811e18"},syntax:{plain:"#d6deeb",comment:{color:"#999999",fontStyle:"italic"},keyword:{color:"#c792ea",fontStyle:"italic"},tag:"#7fdbca",punctuation:"#7fdbca",definition:"#82aaff",property:{color:"#addb67",fontStyle:"italic"},static:"#f78c6c",string:"#ecc48d"},font:{body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'"Fira Mono", "DejaVu Sans Mono", Menlo, Consolas, "Liberation Mono", Monaco, "Lucida Console", monospace',size:"13px",lineHeight:"20px"}};const S=({children:t,...e})=>{const{dispatch:s}=i(),a=()=>{s({type:"refresh"})};return o.exports.jsx(h,{...e,handleRefresh:a,className:"h-1/2",hasOpenFullpageView:!0,children:t})};function w({classes:t={},persister:e=null,files:s={},activeFile:a=void 0,hasTests:n=!1,externalResources:l=[],dependencies:r=void 0}){return o.exports.jsx("div",{dir:"ltr",className:"h-full min-h-full",children:o.exports.jsxs(d,{template:"react",customSetup:n?{dependencies:{"@testing-library/react":"13.4.0","@testing-library/jest-dom":"5.16.5"}}:{dependencies:r},options:{showTabs:!0,classes:{"sp-tabs-scrollable-container":"!gap-2 !px-2 md:!gap-4 md:!px-4 !min-h-[auto]","sp-tab-button":"!text-sm md:!text-base !h-auto !py-1","sp-code-editor":"text-sm","sp-cube-wrapper":"spinner","sp-preview-actions":"!bottom-[unset] !top-2","sp-cube":"!hidden",...t},externalResources:l,activeFile:a},theme:y,files:s,children:[o.exports.jsxs(f,{children:[o.exports.jsx(u,{}),n&&o.exports.jsx(m,{onComplete:p=>console.log(p)}),o.exports.jsx(S,{children:o.exports.jsx(x,{showOpenInCodeSandbox:!1,showRefreshButton:!1})})]}),e]})})}const g=()=>{const{sandpack:t}=i(),{files:e,activeFile:s}=t;return b.exports.useEffect(()=>{if(e&&s){const a=["/package.json","/public/index.html"],n=Object.keys(e).reduce((l,r)=>(a.includes(r)||(l[r]=e[r]),l),{});c.setKey(window.location.pathname,{files:n,activeFile:s})}},[e,s]),null},C=({initStore:t,dependencies:e=void 0,externalResources:s=[]})=>{const{[window.location.pathname]:a}=c.get();return o.exports.jsx(w,{dependencies:e,externalResources:s,activeFile:a?.activeFile||t.activeFile,persister:o.exports.jsx(g,{}),files:a?.files||t.files,classes:{"sp-wrapper":"!h-full !min-h-full","sp-layout":"!flex-nowrap !flex-col !rounded-none !h-full !min-h-full","sp-stack":"!h-full !overflow-y-auto","sp-preview-iframe":"!h-full !min-h-full"}})};export{C as default};
